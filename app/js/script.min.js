!function(n,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(n,t)}):"object"==typeof exports?e(n,require("jquery")):e(n,n.jQuery||n.Zepto)}(this,function(t,s){"use strict";function r(t){if(O&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var n,e,a,i,o=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",s=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",r=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1";for(o=o.split(", "),s=s.split(", "),r=r.split(", "),i=0,e=o.length,n=Number.NEGATIVE_INFINITY;i<e;i++)n<(a=parseFloat(o[i])*parseInt(r[i],10)+parseFloat(s[i]))&&(n=a);return a}function i(){if(s(document.body).height()<=s(window).height())return 0;var t,n,e=document.createElement("div"),a=document.createElement("div");return e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e),t=e.offsetWidth,e.style.overflow="scroll",a.style.width="100%",e.appendChild(a),n=a.offsetWidth,e.parentNode.removeChild(e),t-n}function a(){var t,n,e=s("html"),a=c("is-locked");e.hasClass(a)&&(n=s(document.body),t=parseInt(n.css("padding-right"),10)-i(),n.css("padding-right",t+"px"),e.removeClass(a))}function o(t,n,e,a){var i=c("is",n),o=[c("is",$.CLOSING),c("is",$.OPENING),c("is",$.CLOSED),c("is",$.OPENED)].join(" ");t.$bg.removeClass(o).addClass(i),t.$overlay.removeClass(o).addClass(i),t.$wrapper.removeClass(o).addClass(i),t.$modal.removeClass(o).addClass(i),t.state=n,e||t.$modal.trigger({type:n,reason:a},[{reason:a}])}function e(t,n,e){function a(t){t.target===this&&o++}function i(t){t.target===this&&0==--o&&(s.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(g+" "+v)}),n())}var o=0;s.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].on(g,a).on(v,i)}),t(),0===r(e.$bg)&&0===r(e.$overlay)&&0===r(e.$wrapper)&&0===r(e.$modal)&&(s.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(g+" "+v)}),n())}function d(e){e.state!==$.CLOSED&&(s.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(g+" "+v)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),a(),o(e,$.CLOSED,!0))}function c(){for(var t=h,n=0;n<arguments.length;++n)t+="-"+arguments[n];return t}function n(){var t,n,e=location.hash.replace("#","");if(e){try{n=s("[data-"+f+"-id="+e.replace(new RegExp("/","g"),"\\/")+"]")}catch(t){}n&&n.length&&((t=s[f].lookup[n.data(f)])&&t.settings.hashTracking&&t.open())}else m&&m.state===$.OPENED&&m.settings.hashTracking&&m.close()}function l(t,n){var e=s(document.body),a=this;a.settings=s.extend({},C,n),a.index=s[f].lookup.push(a)-1,a.state=$.CLOSED,a.$overlay=s("."+c("overlay")),a.$overlay.length||(a.$overlay=s("<div>").addClass(c("overlay")+" "+c("is",$.CLOSED)).hide(),e.append(a.$overlay)),a.$bg=s("."+c("bg")).addClass(c("is",$.CLOSED)),a.$modal=t,a.$modal.addClass(h+" "+c("is-initialized")+" "+a.settings.modifier+" "+c("is",$.CLOSED)),a.$wrapper=s("<div>").addClass(c("wrapper")+" "+a.settings.modifier+" "+c("is",$.CLOSED)).hide().append(a.$modal),e.append(a.$wrapper),a.$wrapper.on("click."+h,"[data-"+f+'-action="close"]',function(t){t.preventDefault(),a.close()}),a.$wrapper.on("click."+h,"[data-"+f+'-action="cancel"]',function(t){t.preventDefault(),a.$modal.trigger(y.CANCELLATION),a.settings.closeOnCancel&&a.close(y.CANCELLATION)}),a.$wrapper.on("click."+h,"[data-"+f+'-action="confirm"]',function(t){t.preventDefault(),a.$modal.trigger(y.CONFIRMATION),a.settings.closeOnConfirm&&a.close(y.CONFIRMATION)}),a.$wrapper.on("click."+h,function(t){s(t.target).hasClass(c("wrapper"))&&a.settings.closeOnOutsideClick&&a.close()})}var m,p,u,f="remodal",h=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||f,g=s.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(t){return t+"."+h}).join(" "),v=s.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(t){return t+"."+h}).join(" "),C=s.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),$={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},O=void 0!==(u=document.createElement("div").style).animationName||void 0!==u.WebkitAnimationName||void 0!==u.MozAnimationName||void 0!==u.msAnimationName||void 0!==u.OAnimationName;l.prototype.open=function(){var t,n=this;n.state!==$.OPENING&&n.state!==$.CLOSING&&((t=n.$modal.attr("data-"+f+"-id"))&&n.settings.hashTracking&&(p=s(window).scrollTop(),location.hash=t),m&&m!==n&&d(m),m=n,function(){var t,n,e=s("html"),a=c("is-locked");e.hasClass(a)||(n=s(document.body),t=parseInt(n.css("padding-right"),10)+i(),n.css("padding-right",t+"px"),e.addClass(a))}(),n.$bg.addClass(n.settings.modifier),n.$overlay.addClass(n.settings.modifier).show(),n.$wrapper.show().scrollTop(0),e(function(){o(n,$.OPENING)},function(){o(n,$.OPENED)},n))},l.prototype.close=function(t){var n=this;n.state!==$.OPENING&&n.state!==$.CLOSING&&(n.settings.hashTracking&&n.$modal.attr("data-"+f+"-id")===location.hash.substr(1)&&(location.hash="",s(window).scrollTop(p)),e(function(){o(n,$.CLOSING,!1,t)},function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),a(),o(n,$.CLOSED,!1,t)},n))},l.prototype.getState=function(){return this.state},l.prototype.destroy=function(){var t=s[f].lookup;d(this),this.$wrapper.remove(),delete t[this.index],0===s.grep(t,function(t){return!!t}).length&&(this.$overlay.remove(),this.$bg.removeClass(c("is",$.CLOSING)+" "+c("is",$.OPENING)+" "+c("is",$.CLOSED)+" "+c("is",$.OPENED)))},s[f]={lookup:[]},s.fn[f]=function(e){var a,i;return this.each(function(t,n){null==(i=s(n)).data(f)?(a=new l(i,e),i.data(f,a.index),a.settings.hashTracking&&i.attr("data-"+f+"-id")===location.hash.substr(1)&&a.open()):a=s[f].lookup[i.data(f)]}),a},s(document).ready(function(){s(document).on("click","[data-"+f+"-target]",function(t){t.preventDefault();var n=t.currentTarget.getAttribute("data-"+f+"-target"),e=s("[data-"+f+"-id="+n+"]");s[f].lookup[e.data(f)].open()}),s(document).find("."+h).each(function(t,n){var e=s(n),a=e.data(f+"-options");a?("string"==typeof a||a instanceof String)&&(a=function(t){var n,e,a,i,o={};for(i=0,e=(n=(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;i<e;i++)n[i]=n[i].split(":"),("string"==typeof(a=n[i][1])||a instanceof String)&&(a="true"===a||"false"!==a&&a),("string"==typeof a||a instanceof String)&&(a=isNaN(a)?a:+a),o[n[i][0]]=a;return o}(a)):a={},e[f](a)}),s(document).on("keydown."+h,function(t){m&&m.settings.closeOnEscape&&m.state===$.OPENED&&27===t.keyCode&&m.close()}),s(window).on("hashchange."+h,n)})});